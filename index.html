<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family 100</title>
    <style>
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
        }

        .scores {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .team-score {
            text-align: center;
            flex: 1;
            margin: 0 10px;
            padding: 10px;
            border: 2px solid #ccc;
            border-radius: 5px;
        }

        .active-team {
            border-color: #4CAF50;
            background-color: #e8f5e9;
        }

        .score {
            font-size: 2em;
            font-weight: bold;
        }

        .game-board {
            margin-bottom: 20px;
        }

        .answer-row {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            padding: 10px;
            background-color: #f5f5f5;
            border-radius: 5px;
        }

        .answer-hidden {
            background-color: #2196F3;
            color: white;
            cursor: pointer;
        }

        .answer-revealed {
            background-color: #4CAF50;
            color: white;
        }

        .strike-count {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .strike {
            width: 30px;
            height: 30px;
            background-color: #f44336;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            opacity: 0.3;
        }

        .strike.active {
            opacity: 1;
        }

        .controls {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
        }

        .team-button {
            background-color: #2196F3;
            color: white;
        }

        .strike-button {
            background-color: #f44336;
            color: white;
        }

        .next-button {
            background-color: #4CAF50;
            color: white;
        }

        .reset-button {
            background-color: #9e9e9e;
            color: white;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>FAMILY 100</h1>
        </div>

        <div class="scores">
            <div class="team-score" id="team1Container">
                <h2>Tim 1</h2>
                <div id="team1Score" class="score">0</div>
            </div>
            <div class="team-score" id="team2Container">
                <h2>Tim 2</h2>
                <div id="team2Score" class="score">0</div>
            </div>
        </div>

        <div class="game-board">
            <div id="questionText"></div>
            <div id="answersList"></div>
        </div>

        <div class="strike-count">
            <div id="strike1" class="strike">X</div>
            <div id="strike2" class="strike">X</div>
            <div id="strike3" class="strike">X</div>
        </div>

        <div class="controls">
            <button id="team1Button" class="button team-button">Tim 1</button>
            <button id="team2Button" class="button team-button">Tim 2</button>
            <button id="strikeButton" class="button strike-button">Strike</button>
            <button id="nextButton" class="button next-button">Soal Berikutnya</button>
            <button id="resetButton" class="button reset-button">Reset Game</button>
        </div>
    </div>

    <div id="gameOverModal" class="modal">
        <div class="modal-content">
            <h2>Game Over!</h2>
            <button id="playAgainButton" class="button next-button">Main Lagi</button>
        </div>
    </div>

    <script>
        // Game data
        const questions = [
            {
                question: "Sebutkan makanan yang biasa dimakan saat sarapan",
                answers: [
                    { text: "Nasi Goreng", points: 35 },
                    { text: "Roti", points: 25 },
                    { text: "Bubur", points: 20 },
                    { text: "Telur", points: 15 },
                    { text: "Mie", points: 5 },
                ]
            },
            {
                question: "Sebutkan benda yang selalu dibawa saat bepergian",
                answers: [
                    { text: "Handphone", points: 30 },
                    { text: "Dompet", points: 25 },
                    { text: "Kunci", points: 20 },
                    { text: "Tas", points: 15 },
                    { text: "Tisu", points: 10 },
                ]
            }
            // Add more questions as needed
        ];

        // Game state
        let currentState = {
            activeTeam: 1,
            team1Score: 0,
            team2Score: 0,
            holdingPoints: 0,
            strikes: 0,
            currentQuestion: 0,
            revealedAnswers: [],
            isLastChance: false
        };

        // DOM Elements
        const team1ScoreElement = document.getElementById('team1Score');
        const team2ScoreElement = document.getElementById('team2Score');
        const team1Container = document.getElementById('team1Container');
        const team2Container = document.getElementById('team2Container');
        const questionText = document.getElementById('questionText');
        const answersList = document.getElementById('answersList');
        const strikeElements = [
            document.getElementById('strike1'),
            document.getElementById('strike2'),
            document.getElementById('strike3')
        ];

        // Initialize game
        function initGame() {
            currentState = {
                activeTeam: 1,
                team1Score: 0,
                team2Score: 0,
                holdingPoints: 0,
                strikes: 0,
                currentQuestion: 0,
                revealedAnswers: [],
                isLastChance: false
            };
            updateDisplay();
            loadQuestion();
        }

        // Load question
        function loadQuestion() {
            const question = questions[currentState.currentQuestion];
            questionText.textContent = question.question;
            answersList.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const answerRow = document.createElement('div');
                answerRow.className = 'answer-row answer-hidden';
                answerRow.dataset.index = index;
                answerRow.textContent = `${index + 1}`;
                
                answerRow.addEventListener('click', () => revealAnswer(index));
                answersList.appendChild(answerRow);
            });
        }

        // Reveal answer
        function revealAnswer(index) {
            if (currentState.revealedAnswers.includes(index)) return;

            const question = questions[currentState.currentQuestion];
            const answer = question.answers[index];
            const answerRow = answersList.children[index];

            currentState.revealedAnswers.push(index);
            answerRow.className = 'answer-row answer-revealed';
            answerRow.textContent = `${answer.text} - ${answer.points}`;
            
            currentState.holdingPoints += answer.points;
            
            // Check if all answers are revealed
            if (currentState.revealedAnswers.length === question.answers.length) {
                awardPoints();
            }

            updateDisplay();
        }

        // Add strike
        function addStrike() {
            if (currentState.strikes >= 3) return;
            
            currentState.strikes++;
            updateDisplay();

            if (currentState.strikes === 3 && !currentState.isLastChance) {
                currentState.isLastChance = true;
                currentState.activeTeam = currentState.activeTeam === 1 ? 2 : 1;
                alert(`Tim ${currentState.activeTeam} mendapat kesempatan terakhir!`);
            } else if (currentState.strikes === 3 && currentState.isLastChance) {
                awardPoints();
            }
        }

        // Award points
        function awardPoints() {
            if (currentState.activeTeam === 1) {
                currentState.team1Score += currentState.holdingPoints;
            } else {
                currentState.team2Score += currentState.holdingPoints;
            }
            currentState.holdingPoints = 0;
            updateDisplay();
        }

        // Update display
        function updateDisplay() {
            team1ScoreElement.textContent = currentState.team1Score;
            team2ScoreElement.textContent = currentState.team2Score;
            
            team1Container.classList.toggle('active-team', currentState.activeTeam === 1);
            team2Container.classList.toggle('active-team', currentState.activeTeam === 2);

            strikeElements.forEach((element, index) => {
                element.classList.toggle('active', index < currentState.strikes);
            });
        }

        // Event listeners
        document.getElementById('team1Button').addEventListener('click', () => {
            currentState.activeTeam = 1;
            updateDisplay();
        });

        document.getElementById('team2Button').addEventListener('click', () => {
            currentState.activeTeam = 2;
            updateDisplay();
        });

        document.getElementById('strikeButton').addEventListener('click', () => {
            addStrike();
        });

        document.getElementById('nextButton').addEventListener('click', () => {
            currentState.currentQuestion++;
            if (currentState.currentQuestion >= questions.length) {
                currentState.currentQuestion = 0;
            }
            currentState.revealedAnswers = [];
            currentState.strikes = 0;
            currentState.holdingPoints = 0;
            currentState.isLastChance = false;
            loadQuestion();
            updateDisplay();
        });

        document.getElementById('resetButton').addEventListener('click', initGame);
        document.getElementById('playAgainButton').addEventListener('click', initGame);

        // Start the game
        initGame();
    </script>
</body>
</html>